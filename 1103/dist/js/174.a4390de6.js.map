{"version":3,"file":"js/174.a4390de6.js","mappings":"2cAgEA,MAAMA,GAAcC,EAAAA,EAAAA,IAAS,CAC3BC,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,UAAW,IAGPC,GAAWL,EAAAA,EAAAA,IAAS,CACxBM,SAAU,GACVC,WAAY,EACZC,UAAW,IAGPC,GAAYC,EAAAA,EAAAA,KAAI,GAChBC,EAAc,KAClBF,EAAUG,OAAQ,EAClBC,EAAAA,EAAAA,WAAAA,cACiBd,GACde,MAAMC,IACLV,EAASC,SAAWS,EAAOC,KAAKV,SAChCD,EAASE,WAAaQ,EAAOC,KAAKT,WAClCF,EAASG,UAAYO,EAAOC,KAAKR,aAElCS,SAAQ,KACPR,EAAUG,OAAQ,MAIxBD,IAEA,MAAMO,EAAqBC,IACzBpB,EAAYK,UAAYe,EACxBR,KAGIS,EAAoBC,IACxBR,EAAAA,EAAAA,WAAAA,WAA0BQ,EAAIC,IAAIR,MAAMC,IACtCQ,EAAAA,GAAAA,QAAkB,QAClBZ,Q,syFCnGJ,MAAMa,EAAc,EAEpB","sources":["webpack://movie-manager/./src/views/customInfo/CustomInfoList.vue","webpack://movie-manager/./src/views/customInfo/CustomInfoList.vue?3c70"],"sourcesContent":["<template>\r\n  <el-card header=\"用户列表\">\r\n    <el-form :inline=\"true\">\r\n      <el-form-item label=\"用户名称\">\r\n        <el-input placeholder=\"用户名称\" v-model=\"qeuryParams.custom_name\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"用户性别\">\r\n        <el-select v-model=\"qeuryParams.custom_sex\" clearable>\r\n          <el-option label=\"男\" value=\"男\">男</el-option>\r\n          <el-option label=\"女\" value=\"男\">女</el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机号\">\r\n        <el-input placeholder=\"手机号\" v-model=\"qeuryParams.custom_tel\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" :icon=\"Search\" :loading=\"isLoading\" @click=\"qeuryParams.pageIndex=1;getPageList()\">查询</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 给一个表格 -->\r\n    <div v-loading=\"isLoading\" element-loading-text=\"正在加载数据\">\r\n      <el-table :data=\"pageList.listData\" stripe border>\r\n        <el-table-column label=\"ID\" prop=\"id\" width=\"60\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"用户名称\" prop=\"custom_name\" width=\"150\"></el-table-column>\r\n        <el-table-column label=\"性别\" align=\"center\" width=\"70\">\r\n          <template #default=\"{row}\">\r\n            <el-tag v-if=\"row.custom_sex=='男'\">{{row.custom_sex}}</el-tag>\r\n            <el-tag v-else type=\"danger\">{{row.custom_sex}}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"手机号\" prop=\"custom_tel\" align=\"center\" width=\"120\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"custom_email\"></el-table-column>\r\n        <el-table-column label=\"生日\" prop=\"custom_birthday\"></el-table-column>\r\n        <el-table-column label=\"地址\" prop=\"custom_address\"></el-table-column>\r\n        <!-- 如果在表单里某一列想显示自定义内容，可以使用下面的方法 -->\r\n        <el-table-column label=\"操作\" width=\"150\" align=\"center\">\r\n          <template #default=\"{row}\">\r\n            <el-button type=\"warning\" size=\"small\">编辑</el-button>\r\n            <el-popconfirm title=\"你确定要删除吗?\" @confirm=\"deleteCurrentRow(row)\">\r\n              <template #reference>\r\n                <el-button type=\"danger\" size=\"small\">删除</el-button>\r\n              </template>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <div class=\" flex flex-row justify-between items-center mt-[10px]\">\r\n        <div>当前第{{qeuryParams.pageIndex}}页，共{{pageList.pageCount}}页，共{{pageList.totalColunt}}条</div>\r\n        <el-pagination\r\n          background\r\n          layout=\"prev,pager,next\"\r\n          :total=\"pageList.totalCount\"\r\n          @current-change=\"currentPageChange\"\r\n          :current-page=\"qeuryParams.pageIndex\"></el-pagination>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n<script setup>\r\nimport { reactive, ref } from \"vue\";\r\nimport { Search, CirclePlus } from \"@element-plus/icons-vue\";\r\nimport API from \"@/utils/API\";\r\nimport { ElMessageBox,ElMessage } from \"element-plus\";\r\nconst qeuryParams = reactive({\r\n  custom_name: \"\",\r\n  custom_sex: \"\",\r\n  custom_tel: \"\",\r\n  pageIndex: 1,\r\n});\r\n\r\nconst pageList = reactive({\r\n  listData: [],\r\n  totalCount: 0,\r\n  pageCount: 0,\r\n});\r\n\r\nconst isLoading = ref(false);\r\nconst getPageList = () => {\r\n  isLoading.value = true;\r\n  API.customInfo\r\n    .getListByPage(qeuryParams)\r\n    .then((result) => {\r\n      pageList.listData = result.data.listData;\r\n      pageList.totalCount = result.data.totalCount;\r\n      pageList.pageCount = result.data.pageCount;\r\n    })\r\n    .finally(() => {\r\n      isLoading.value = false;\r\n    });\r\n};\r\n\r\ngetPageList();\r\n\r\nconst currentPageChange = (page) => {\r\n  qeuryParams.pageIndex = page;\r\n  getPageList();\r\n};\r\n\r\nconst deleteCurrentRow = (row) => {\r\n  API.customInfo.deleteById(row.id).then((result) => {\r\n    ElMessage.success(\"删除成功\");\r\n    getPageList();\r\n  });\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import script from \"./CustomInfoList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CustomInfoList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["qeuryParams","reactive","custom_name","custom_sex","custom_tel","pageIndex","pageList","listData","totalCount","pageCount","isLoading","ref","getPageList","value","API","then","result","data","finally","currentPageChange","page","deleteCurrentRow","row","id","ElMessage","__exports__"],"sourceRoot":""}