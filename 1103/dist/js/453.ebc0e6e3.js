"use strict";(self["webpackChunkmovie_manager"]=self["webpackChunkmovie_manager"]||[]).push([[453],{3453:function(e,l,a){a.r(l),a.d(l,{default:function(){return c}});var t=a(3396),n=a(4870),o=a(7139),u=a(2748),r=a(946),i=a(2807);const d=(0,t.Uk)("查询"),p={"element-loading-text":"正在加载数据"},m=(0,t.Uk)("编辑"),s=(0,t.Uk)("删除"),w={class:"flex flex-row justify-between items-center mt-[10px]"};var f={__name:"HallInfoList",setup(e){const l=(0,n.qj)({hall_name:"",pageIndex:1}),a=(0,n.qj)({listData:[],totalCount:0,pageCount:0}),f=(0,n.iH)(!1),g=()=>{f.value=!0,r.Z.hallInfo.getListByPage(l).then((e=>{a.listData=e.data.listData,a.totalCount=e.data.totalCount,a.pageCount=e.data.pageCount})).finally((()=>{f.value=!1}))};g();const c=e=>{r.Z.hallInfo.deleteById(e.id).then((e=>{i.z8.success("删除成功"),g()}))},_=e=>{l.pageIndex=e,g()},h=e=>{try{let l=JSON.parse(e);return l.flat(1/0).filter((e=>0==e)).length}catch(l){return 0}};return(e,r)=>{const i=(0,t.up)("el-input"),C=(0,t.up)("el-form-item"),W=(0,t.up)("el-button"),b=(0,t.up)("el-form"),k=(0,t.up)("el-table-column"),y=(0,t.up)("el-tag"),v=(0,t.up)("el-popconfirm"),I=(0,t.up)("el-table"),x=(0,t.up)("el-pagination"),z=(0,t.up)("el-card"),D=(0,t.Q2)("loading");return(0,t.wg)(),(0,t.j4)(z,{header:"影厅列表"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{model:l,inline:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{label:"影厅名称"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{placeholder:"请输入影厅名称",modelValue:l.hall_name,"onUpdate:modelValue":r[0]||(r[0]=e=>l.hall_name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"primary",icon:(0,n.SU)(u.olm),onClick:r[1]||(r[1]=e=>{l.pageIndex=1,g()})},{default:(0,t.w5)((()=>[d])),_:1},8,["icon"])])),_:1})])),_:1},8,["model"]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(I,{data:a.listData,stripe:"",border:""},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"ID",prop:"id",width:"60",align:"center"}),(0,t.Wm)(k,{label:"影厅名称",prop:"hall_name",width:"150"}),(0,t.Wm)(k,{label:"电影标签","min-width":"150"},{default:(0,t.w5)((({row:e})=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tags.split(","),((e,l)=>((0,t.wg)(),(0,t.j4)(y,{type:l%2==0?"":"danger",class:"ml-2",key:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e),1)])),_:2},1032,["type"])))),128))])),_:1}),(0,t.Wm)(k,{label:"总坐位数"},{default:(0,t.w5)((({row:e})=>[(0,t.Uk)((0,o.zw)(h(e.sites)),1)])),_:1}),(0,t.Wm)(k,{label:"地址",prop:"address","min-width":"80"}),(0,t.Wm)(k,{label:"操作",width:"150",align:"center"},{default:(0,t.w5)((({row:l})=>[(0,t.Wm)(W,{type:"warning",size:"small",onClick:a=>e.$router.push({name:"EditHallInfo",params:{id:l.id}})},{default:(0,t.w5)((()=>[m])),_:2},1032,["onClick"]),(0,t.Wm)(v,{title:"你确定要删除吗?",onConfirm:e=>c(l)},{reference:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"danger",size:"small"},{default:(0,t.w5)((()=>[s])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",w,[(0,t._)("div",null,"当前第"+(0,o.zw)(l.pageIndex)+"页，共"+(0,o.zw)(a.pageCount)+"页，共"+(0,o.zw)(a.totalColunt)+"条",1),(0,t.Wm)(x,{background:"",layout:"prev,pager,next",total:a.totalCount,onCurrentChange:_,"current-page":l.pageIndex},null,8,["total","current-page"])])])),[[D,f.value]])])),_:1})}}};const g=f;var c=g}}]);
//# sourceMappingURL=453.ebc0e6e3.js.map