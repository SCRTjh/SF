"use strict";(self["webpackChunkmovie_manager"]=self["webpackChunkmovie_manager"]||[]).push([[174],{1174:function(e,l,t){t.r(l),t.d(l,{default:function(){return W}});var a=t(3396),u=t(4870),o=t(7139),n=t(2748),m=t(946),d=t(2807);const p=(0,a.Uk)("男"),r=(0,a.Uk)("女"),s=(0,a.Uk)("查询"),i={"element-loading-text":"正在加载数据"},c=(0,a.Uk)("编辑"),_=(0,a.Uk)("删除"),w={class:"flex flex-row justify-between items-center mt-[10px]"};var f={__name:"CustomInfoList",setup(e){const l=(0,u.qj)({custom_name:"",custom_sex:"",custom_tel:"",pageIndex:1}),t=(0,u.qj)({listData:[],totalCount:0,pageCount:0}),f=(0,u.iH)(!1),g=()=>{f.value=!0,m.Z.customInfo.getListByPage(l).then((e=>{t.listData=e.data.listData,t.totalCount=e.data.totalCount,t.pageCount=e.data.pageCount})).finally((()=>{f.value=!1}))};g();const W=e=>{l.pageIndex=e,g()},b=e=>{m.Z.customInfo.deleteById(e.id).then((e=>{d.z8.success("删除成功"),g()}))};return(e,m)=>{const d=(0,a.up)("el-input"),C=(0,a.up)("el-form-item"),x=(0,a.up)("el-option"),h=(0,a.up)("el-select"),k=(0,a.up)("el-button"),v=(0,a.up)("el-form"),y=(0,a.up)("el-table-column"),U=(0,a.up)("el-tag"),I=(0,a.up)("el-popconfirm"),V=(0,a.up)("el-table"),z=(0,a.up)("el-pagination"),j=(0,a.up)("el-card"),D=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.j4)(j,{header:"用户列表"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{inline:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{label:"用户名称"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{placeholder:"用户名称",modelValue:l.custom_name,"onUpdate:modelValue":m[0]||(m[0]=e=>l.custom_name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(C,{label:"用户性别"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:l.custom_sex,"onUpdate:modelValue":m[1]||(m[1]=e=>l.custom_sex=e),clearable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{label:"男",value:"男"},{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(x,{label:"女",value:"男"},{default:(0,a.w5)((()=>[r])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(C,{label:"手机号"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{placeholder:"手机号",modelValue:l.custom_tel,"onUpdate:modelValue":m[2]||(m[2]=e=>l.custom_tel=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{type:"primary",icon:(0,u.SU)(n.olm),loading:f.value,onClick:m[3]||(m[3]=e=>{l.pageIndex=1,g()})},{default:(0,a.w5)((()=>[s])),_:1},8,["icon","loading"])])),_:1})])),_:1}),(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(V,{data:t.listData,stripe:"",border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{label:"ID",prop:"id",width:"60",align:"center"}),(0,a.Wm)(y,{label:"用户名称",prop:"custom_name",width:"150"}),(0,a.Wm)(y,{label:"性别",align:"center",width:"70"},{default:(0,a.w5)((({row:e})=>["男"==e.custom_sex?((0,a.wg)(),(0,a.j4)(U,{key:0},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.custom_sex),1)])),_:2},1024)):((0,a.wg)(),(0,a.j4)(U,{key:1,type:"danger"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.custom_sex),1)])),_:2},1024))])),_:1}),(0,a.Wm)(y,{label:"手机号",prop:"custom_tel",align:"center",width:"120"}),(0,a.Wm)(y,{label:"邮箱",prop:"custom_email"}),(0,a.Wm)(y,{label:"生日",prop:"custom_birthday"}),(0,a.Wm)(y,{label:"地址",prop:"custom_address"}),(0,a.Wm)(y,{label:"操作",width:"150",align:"center"},{default:(0,a.w5)((({row:e})=>[(0,a.Wm)(k,{type:"warning",size:"small"},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(I,{title:"你确定要删除吗?",onConfirm:l=>b(e)},{reference:(0,a.w5)((()=>[(0,a.Wm)(k,{type:"danger",size:"small"},{default:(0,a.w5)((()=>[_])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,a._)("div",w,[(0,a._)("div",null,"当前第"+(0,o.zw)(l.pageIndex)+"页，共"+(0,o.zw)(t.pageCount)+"页，共"+(0,o.zw)(t.totalColunt)+"条",1),(0,a.Wm)(z,{background:"",layout:"prev,pager,next",total:t.totalCount,onCurrentChange:W,"current-page":l.pageIndex},null,8,["total","current-page"])])])),[[D,f.value]])])),_:1})}}};const g=f;var W=g}}]);
//# sourceMappingURL=174.a4390de6.js.map